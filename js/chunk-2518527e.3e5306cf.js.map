{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/location/location.html","webpack:///./src/views/location/location.ts","webpack:///./src/views/location/location.ts?4ac1","webpack:///./src/views/location/location.vue"],"names":["dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","attrs","align-space-between","justify-start","column","items","breadcrumbItems","large","slot","_v","grid-list-md","fluid","row","wrap","xs12","primary-title","staticClass","_s","location","name","type","_l","child","key","id","xs4","to","flat","color","locations","return-object","item-text","displayWithLocation","label","model","value","callback","$$v","selectedLocation","expression","staticRenderFns","locationvue_type_script_lang_ts_LocationDashboard","_Vue","LocationDashboard","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","currentUser","current_user","locationId","gameVersions","gameVersion","inherits","createClass","displayValue","concat","parentLocation","_beforeMount","asyncToGenerator","regeneratorRuntime","mark","_callee","_this$gameVersions","queryResult","_context","prev","next","$route","params","$apollo","query","src_default","_templateObject","sent","push","apply","toConsumableArray","data","stop","beforeMount","arguments","from","_onLocationIdChanged","_callee2","_this$locations","_result","result","_context2","console","log","abrupt","undefined","_templateObject2","splice","length","_templateObject3","variables","text","reverse","disabled","onLocationIdChanged","_x","_x2","vue_property_decorator","tslib_es6","vue_router_esm","_a","_b","Promise","_d","locationvue_type_script_lang_ts_","location_locationvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2518527e.3e5306cf.js","sourcesContent":["var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-space-between\":\"\",\"justify-start\":\"\",\"column\":\"\"}},[(_vm.location)?[_c('v-breadcrumbs',{attrs:{\"items\":_vm.breadcrumbItems,\"large\":\"\"}},[_c('v-icon',{attrs:{\"slot\":\"divider\"},slot:\"divider\"},[_vm._v(\"fas fa-chevron-right\")])],1),_c('v-container',{attrs:{\"grid-list-md\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(_vm._s(_vm.location.name))]),_c('div',[_vm._v(\"Type: \"+_vm._s(_vm.location.type.name))])])])],1)],1),_vm._l((_vm.location.children),function(child){return _c('v-flex',{key:child.id,attrs:{\"xs4\":\"\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(_vm._s(child.name))]),_c('div',[_vm._v(\"Type: \"+_vm._s(child.type.name))])])]),_c('v-card-actions',[_c('v-btn',{attrs:{\"to\":'/location/' + child.id,\"flat\":\"\",\"color\":\"orange\"}},[_vm._v(\"Details\")])],1)],1)],1)})],2)],1)]:[_c('v-autocomplete',{attrs:{\"items\":_vm.locations,\"return-object\":\"\",\"item-text\":_vm.displayWithLocation,\"label\":\"Select Location\"},model:{value:(_vm.selectedLocation),callback:function ($$v) {_vm.selectedLocation=$$v},expression:\"selectedLocation\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { CurrentUser, currentUser } from '@/shared/current-user';\nimport { GameVersion, Location } from '@/shared/graphql.schema';\nimport { VBreadcrumbItem } from '@/shared/vuetify/v-breadcrumb';\nimport gql from 'graphql-tag';\nimport { QueryResult } from 'vue-apollo/types/vue-apollo';\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { Route } from 'vue-router';\n\n@Component\nexport default class LocationDashboard extends Vue {\n\tpublic readonly currentUser: CurrentUser | null = currentUser();\n\n\tpublic locationId?: string | null = null;\n\tpublic location?: Location | null = null;\n\tpublic readonly breadcrumbItems: VBreadcrumbItem[] = [];\n\n\tpublic selectedLocation: Location | null = null;\n\n\tpublic readonly locations: Location[] = [];\n\n\tpublic readonly gameVersions: GameVersion[] = [];\n\tpublic gameVersion: GameVersion | null = null;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tpublic displayWithLocation(location: Location): string {\n\t\tlet displayValue: string = location.name;\n\t\tdisplayValue += ` (${location.type.name})`;\n\t\tif (location.parentLocation) {\n\t\t\tdisplayValue += ` - (${location.parentLocation.name})`;\n\t\t}\n\t\treturn displayValue;\n\t}\n\n\tprotected async beforeMount(): Promise<void> {\n\t\tthis.locationId = this.$route.params.id;\n\t\tconst queryResult: QueryResult<{\n\t\t\tgameVersions: GameVersion[];\n\t\t}> = await this.$apollo.query({\n\t\t\tquery: gql`\n\t\t\t\tquery tradeData {\n\t\t\t\t\tgameVersions {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tidentifier\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`\n\t\t});\n\t\tthis.gameVersions.push(...queryResult.data.gameVersions);\n\t\tthis.gameVersion = this.gameVersions[0];\n\t}\n\n\t@Watch('$route')\n\tprotected onRouteChanged(to: Route, from: Route): void {\n\t\tif (to.params.id !== from.params.id) {\n\t\t\tthis.locationId = to.params.id;\n\t\t}\n\t}\n\n\t@Watch('selectedLocation')\n\tprotected onSelectedLocationChanged(selectedLocation: Location | null): void {\n\t\tif (selectedLocation) {\n\t\t\tthis.locationId = selectedLocation.id;\n\t\t}\n\t\tthis.selectedLocation = null;\n\t}\n\n\t@Watch('locationId')\n\tprotected async onLocationIdChanged(to?: string | null, from?: string | null): Promise<void> {\n\t\tconsole.log({ to, from });\n\t\tif (to === from) {\n\t\t\treturn;\n\t\t} else if (to === undefined || to === null) {\n\t\t\tconst result: QueryResult<{ locations: Location[] }> = await this.$apollo.query({\n\t\t\t\tquery: gql`\n\t\t\t\t\tquery locations {\n\t\t\t\t\t\tlocations {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\ttype {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentLocation {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`\n\t\t\t});\n\t\t\tthis.locations.splice(0, this.locations.length);\n\t\t\tthis.locations.push(...result.data.locations);\n\t\t\tthis.location = null;\n\t\t\treturn;\n\t\t}\n\n\t\tconst result: QueryResult<{ location: Location }> = await this.$apollo.query({\n\t\t\tquery: gql`\n\t\t\t\tquery location($id: ID!) {\n\t\t\t\t\tlocation(id: $id) {\n\t\t\t\t\t\tid\n\t\t\t\t\t\tname\n\t\t\t\t\t\ttype {\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparentLocation {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tparentLocation {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\tparentLocation {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\tparentLocation {\n\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchildren {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\ttype {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`,\n\t\t\tvariables: { id: to }\n\t\t});\n\t\tthis.location = result.data.location;\n\t\tthis.breadcrumbItems.splice(0, this.breadcrumbItems.length);\n\t\tif (this.location) {\n\t\t\tlet parentLocation: Location | null | undefined = this.location.parentLocation;\n\t\t\twhile (parentLocation) {\n\t\t\t\tthis.breadcrumbItems.push({\n\t\t\t\t\ttext: parentLocation.name,\n\t\t\t\t\tto: `/location/${parentLocation.id}`\n\t\t\t\t});\n\t\t\t\tparentLocation = parentLocation.parentLocation;\n\t\t\t}\n\t\t\tthis.breadcrumbItems.reverse();\n\t\t\tthis.breadcrumbItems.push({\n\t\t\t\ttext: this.location.name,\n\t\t\t\tdisabled: true\n\t\t\t});\n\t\t}\n\t}\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./location.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!./location.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./location.html?vue&type=template&id=015ebbe3&\"\nimport script from \"./location.ts?vue&type=script&lang=ts&\"\nexport * from \"./location.ts?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"location.vue\"\nexport default component.exports"],"sourceRoot":""}