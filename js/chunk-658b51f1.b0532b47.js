(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-658b51f1"],{7679:function(e,t,n){"use strict";n("c79c");var a=n("e4d3"),i=n("7560"),s=n("80d2"),r=n("afdd"),l=n("326d"),o=n("58df");t["a"]=Object(o["a"])(a["a"],i["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data(){return{isActive:!1}},watch:{isActive(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel(){this.isActive=!1,this.$emit("cancel")},focus(){const e=this.$refs.content.querySelector("input");e&&e.focus()},genButton(e,t){return this.$createElement(r["a"],{props:{text:!0,color:"primary",light:!0},on:{click:e}},t)},genActions(){return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(()=>{this.save(this.returnValue),this.$emit("save")},this.saveText)])},genContent(){return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:e=>{const t=this.$refs.content.querySelector("input");e.keyCode===s["v"].esc&&this.cancel(),e.keyCode===s["v"].enter&&t&&(this.save(t.value),this.$emit("save"))}},ref:"content"},[this.$slots.input])}},render(e){return e(l["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:e=>this.isActive=e},scopedSlots:{activator:({on:t})=>e("div",{staticClass:"v-small-dialog__activator",on:t},[e("span",{staticClass:"v-small-dialog__activator__content"},this.$slots.default)])}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(e,t,n){},ca8a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",[n("h1",{staticClass:"display-1 mb-2"},[e._v("Game Versions")]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.elements,"sort-by":"release","sort-desc":!0,"items-per-page":25,height:e.tableHeight,dense:""},scopedSlots:e._u([{key:"body",fn:function(t){var a=t.items;return[n("tbody",e._l(a,(function(t){return n("tr",{key:t.id},[n("td",{staticClass:"mono"},[e._v(e._s(t.identifier))]),e.currentUser.hasRole("ADMIN")?[n("td",[n("v-edit-dialog",{attrs:{large:"",persistent:""},on:{open:function(n){return e.openEditDialog(t)},save:e.updateRelease},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Edit Release","single-line":""},model:{value:e.release,callback:function(t){e.release=t},expression:"release"}})]},proxy:!0}],null,!0)},[e._v(e._s(e._f("moment")(t.release,"LLL")))])],1)]:[n("td",[e._v(e._s(e._f("moment")(t.release,"LLL")))])],n("td",{staticClass:"mono"},[e._v(e._s(t.id))])],2)})),0)]}}])})],1)],1)},i=[],s=n("8785"),r=(n("96cf"),n("1da1")),l=n("d4ec"),o=n("bee2"),c=n("99de"),u=n("7e84"),d=n("262e"),h=n("9ab4"),v=n("aa5a"),p=n("9530"),f=n.n(p),m=n("2b0e"),g=n("60a3");function b(){var e=Object(s["a"])(["\n      query {\n        elements: gameVersions {\n          id\n          identifier\n          release\n        }\n      }\n    "]);return b=function(){return e},e}function _(){var e=Object(s["a"])(["\n          mutation UpdateGameVersion($id: ID!, $input: UpdateGameVersionInput!) {\n            updateGameVersion(id: $id, input: $input) {\n              id\n              identifier\n              release\n            }\n          }\n        "]);return _=function(){return e},e}var y=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).call(this)),e.currentUser=Object(v["b"])(),e.headers=[{text:"Identifier",width:190,value:"identifier"},{text:"Release",width:230,value:"release"},{text:"ID",width:340,value:"id"}],e.release="",e.tableHeight=0,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"updateTableHeight",value:function(){this.tableHeight=window.innerHeight-this.$vuetify.application.top-204}},{key:"openEditDialog",value:function(e){var t;this.selected=e,this.release=null!==(t=e.release)&&void 0!==t?t:""}},{key:"updateRelease",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$apollo.mutate({mutation:f()(_()),variables:{id:this.selected.id,input:{release:this.release||null}}});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e["catch"](0),console.error(e.t0.graphQLErrors),e.abrupt("return");case 9:this.selected.release=this.release;case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=this;this.updateTableHeight(),window.addEventListener("resize",(function(){return e.updateTableHeight()}))}}]),t}(m["a"]);y=Object(h["c"])([Object(g["a"])({apollo:{elements:f()(b())}}),Object(h["f"])("design:paramtypes",[])],y);var k=y,w=k,C=n("2877"),$=n("6544"),x=n.n($),O=n("62ad"),j=n("8fea"),V=n("7679"),E=n("0fd9"),T=n("8654"),A=Object(C["a"])(w,a,i,!1,null,null,null);t["default"]=A.exports;x()(A,{VCol:O["a"],VDataTable:j["a"],VEditDialog:V["a"],VRow:E["a"],VTextField:T["a"]})}}]);
//# sourceMappingURL=chunk-658b51f1.b0532b47.js.map